<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ubuntu on Awesome Hugo blog</title>
    <link>https://blog.mfcp.fun/tags/ubuntu/</link>
    <description>Recent content in ubuntu on Awesome Hugo blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-gb</language>
    <lastBuildDate>Wed, 23 Aug 2023 00:53:59 +0800</lastBuildDate><atom:link href="https://blog.mfcp.fun/tags/ubuntu/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>UbuntuæœåŠ¡å™¨åŸºç¡€æ“ä½œ</title>
      <link>https://blog.mfcp.fun/posts/ad5bcc507ff11a28bcbc66c6a3300f5e/</link>
      <pubDate>Wed, 23 Aug 2023 00:53:59 +0800</pubDate>
      
      <guid>https://blog.mfcp.fun/posts/ad5bcc507ff11a28bcbc66c6a3300f5e/</guid>
      
      <description>ä¸‰å¹´å‰åœ¨é˜¿é‡Œäº‘ä¹°äº†è‡ªå·±çš„ç¬¬ä¸€å°æœåŠ¡å™¨ï¼Œåç»­åˆ°æœŸååœ¨è…¾è®¯äº‘ä¹°äº†ç¬¬äºŒå°æœåŠ¡å™¨ï¼Œè¿™å°æœåŠ¡å™¨é™ªä¼´äº†ä¸‰å¹´ï¼Œä»åˆšæ¥è§¦ç¨‹åºï¼Œç¬¬ä¸€æ¬¡é¢å¯¹ä¸€ä¸ªé»‘æ¡†æ¡†çš„ç•Œé¢åˆ°ç°åœ¨å¯¹ç¨‹åºä¸ææƒ§ä¸é™Œç”Ÿï¼Œæ—¶é—´è¿‡å¾—çœŸå¿«å•Š
å› ä¸ºæ¢äº†å·¥ä½œï¼Œä¸åœ¨ä»äº‹æŠ€æœ¯ç›¸å…³çš„å›½å†…å·¥ä½œï¼Œè¿™å°æœåŠ¡å™¨ä¹ŸåŸºæœ¬é—²ç½®äº†ä¸€å¹´ï¼Œåªæœ‰ä¸Šé¢æ­å»ºçš„åšå®¢åœ¨è¿è¡Œï¼Œæœ€è¿‘æƒ³èµ·æ¥è¿™å°æœåŠ¡å™¨é©¬ä¸Šå°±å¿«è¦åˆ°æœŸäº†ï¼Œæƒ³ç€èƒ½ä¸èƒ½æ­å»ºä¸ªstable-diffusion æ¥ç©ä¸€ä¸‹ï¼Œç½‘ä¸Šçœ‹äº†å¾ˆå¤šæ•™ç¨‹ï¼Œéƒ½æ˜¯åœ¨windowsä¸Šæ­å»ºçš„ï¼Œå°±ç›´æ¥é‡è£…æˆäº†winæœåŠ¡å™¨ï¼Œåæ¥å‘ç°ä¸è¡Œ
æƒ³ç€centosåœæ­¢æ”¯æŒï¼Œubuntuä½¿ç”¨çš„ä¹Ÿæ¯”è¾ƒå¤šï¼Œåˆä»æœ€åŸå…ˆçš„centosæ¢æˆäº†ubuntuã€‚è®°å½•ä¸‹ä»æ–°é…ç½®çš„æ•´ä¸ªè¿‡ç¨‹
é…ç½®sshå¯†é’¥ç™»å½• é¦–å…ˆä½ å¾—ç”µè„‘ä¸Šè¦æœ‰sshå¯†é’¥ã€‚winç³»ç»Ÿä¸€èˆ¬åœ¨ç”¨æˆ·ç›®å½•çš„ .sshæ–‡ä»¶å¤¹ä¸­ã€‚id_rsa.pubè¿™ä¸ªæ˜¯å…¬é’¥æ–‡ä»¶ï¼Œéœ€è¦ä¸Šä¼ åˆ°æœåŠ¡ä¸­
å…ˆç”¨é»˜è®¤çš„å¯†ç ç™»å½•æœåŠ¡å™¨ï¼Œubuntué»˜è®¤ç™»å½•æ²¡æœ‰rootç”¨æˆ·ï¼Œä½†æ˜¯æœ‰sudoæƒé™ã€‚
æŠŠä½ çš„å…¬é’¥æ–‡ä»¶å†…å®¹æ·»åŠ åˆ°authorized_keysè¿™ä¸ªæ–‡ä»¶ä¸­
ä¿®æ”¹/etc/ssh/sshd_configæ–‡ä»¶ (éœ€è¦ä½¿ç”¨sudoæƒé™ç¼–è¾‘)
#å…è®¸å¯†é’¥è®¤è¯ RSAAuthentication yes PubkeyAuthentication yes PermitRootLogin yes #å…è®¸rootç”¨æˆ·sshç™»å½• PasswordAuthentication no #ç¦ç”¨å¯†ç ç™»å½• é…ç½®å®Œé‡å¯sshæœåŠ¡ service sshd restart
ä½¿ç”¨xshellæˆ–è€…MobaXtermç™»å½•æœåŠ¡å™¨
åœ¨å“ªä¸ªç”¨æˆ·ç›®å½•ä¸‹åªèƒ½ç”¨é‚£ä¸ªç”¨æˆ·ç™»å½•ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„ubuntuç”¨æˆ·
å®‰è£…nginx æ›´æ–°aptæºï¼Œå®‰è£…nginx
sudo apt update sudo apt install nginx å®‰è£…å®Œæˆåå¯åŠ¨Nginx
sudo systemctl status nginx å®‰è£…å¯åŠ¨æˆåŠŸåå°±æ˜¯ç»¿è‰²çš„runningï¼Œå¤±è´¥åˆ™æ˜¯çº¢è‰²çš„fail
ä½¿ç”¨å…¬ç½‘ipè®¿é—®è®¿é—®httpé¡µé¢ï¼Œå‡ºç°ä»¥ä¸‹é¡µé¢è¯´æ˜å®‰è£…æˆåŠŸ
é…ç½®æ–‡ä»¶ä½ç½® ä¸»è¦çš„é…ç½®ç›®å½•åœ¨ /etc/nginx ä¸»è¦çš„é…ç½®æ–‡ä»¶ /etc/nginx/nginx.conf ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ /etc/nginx/sites-available/ æ–¹ä¾¿æŸ¥çœ‹æ–‡ä»¶å¤¹å‘½åä¸ºè‡ªå·± åŸŸå.conf æ—¥å¿—æ–‡ä»¶åœ¨ /var/log/nginx ä¸€äº›æ³¨æ„çš„é—®é¢˜ å¦‚æœä¸èƒ½è®¿é—®ï¼ŒæŸ¥çœ‹æœåŠ¡å™¨çš„å®‰å…¨ç»„æ˜¯å¦æ”¾å¼€ï¼ŒæœåŠ¡å™¨çš„é˜²ç«å¢™æ˜¯å¦æ‰“å¼€
sudo ufw status # æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å¼€å¯ sudo ufw enable|disable #å¼€å¯æˆ–è€…å…³é—­é˜²ç«å¢™ é»˜è®¤å…³é—­ sudo ufw allow &amp;#34;nginx full&amp;#34; #æ”¾å¼€nginx 80/443 é¦–æ¬¡é…ç½®éœ€è¦æ³¨æ„ï¼Œå¦‚æœæ‰“å¼€äº†æœåŠ¡å™¨çš„é˜²ç«å¢™ï¼Œæ·»åŠ nginxåè¦æ”¾å¼€22ç«¯å£ï¼Œä¹‹å‰æ“ä½œå·²ç»ç¦æ­¢äº†å¯†ç ç™»å½•ï¼Œ22ç«¯å£å…³é—­åå°±ä¸èƒ½ç™»å½•æœåŠ¡å™¨ï¼Œé™·å…¥æ­»å¾ªç¯</description>
      
    </item>
    
    <item>
      <title>LinuxåŸºæœ¬å®‰å…¨è®¾ç½®</title>
      <link>https://blog.mfcp.fun/posts/2022-01-04-linux%E5%9F%BA%E6%9C%AC%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/</link>
      <pubDate>Tue, 04 Jan 2022 11:05:58 +0000</pubDate>
      
      <guid>https://blog.mfcp.fun/posts/2022-01-04-linux%E5%9F%BA%E6%9C%AC%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/</guid>
      
      <description>â„¹ï¸ æ¥æºï¼šSol Love
ä»¥ä¸‹å‘½ä»¤ç”¨äºubuntuä¸»æœºï¼Œå…¶ä»–linuxå‘½ä»¤å¯èƒ½ä¸ç›¸åŒ
æ›´æ”¹rootå¯†ç  passwd
å°†rootå¯†ç æ›´æ”¹ä¸ºé•¿è€Œä¸”å¤æ‚çš„å¯†ç ï¼Œä¸éœ€è¦è®°ä½ä»–ï¼Œåªéœ€è¦å­˜åœ¨åœ¨å®‰å…¨çš„åœ°æ–¹ã€‚åªæœ‰æ— æ³•é€šè¿‡sshç™»å½•æˆ–ä¸¢å¤±soduå¯†ç æ—¶æ‰éœ€è¦æ­¤å¯†ç 
å®‰è£…Fail2ban apt-get install fail2ban
åˆ›å»ºæ–°ç”¨æˆ·
useradd deploy mkdir /home/deploy mkdir /home/deploy/.ssh chmod 700 /home/deploy/.ssh ä½¿ç”¨å…¬é’¥è®¤è¯ vim /home/deploy/.ssh/authorized_keys
æ·»åŠ æœ¬åœ°æœºå™¨çš„å…¬é’¥id_rsa.pubçš„å†…å®¹åˆ°æ­¤æ–‡ä»¶ä¸­
chmod 400 /home/deploy/.ssh/authorized_keys
chown deploy:deploy /home/deploy -R
æµ‹è¯•æ–°ç”¨æˆ·å¯åŠ¨ ä¸ºæ–°ç”¨æˆ·è®¾ç½®å¯†ç  (è®¾ç½®å¤æ‚å¯†ç ï¼Œæ˜¯éœ€è¦sudoçš„æƒé™çš„å¯†ç )
passwd deploy
è®¾ç½®sudoæƒé™ ï¼ˆvisudoçš„æ–‡ä»¶æ˜¯/etc/sudoersï¼Œä½†æ˜¯ä¸è¦ç›´æ¥ä¿®æ”¹æ­¤æ–‡ä»¶ï¼Œä¿®æ”¹è¯·ä½¿ç”¨visudoå‘½ä»¤ï¼‰
visudo root ALL=(ALL) ALL deploy ALL=(ALL) ALL é”å®šSSH é…ç½®sshä»¥é˜²æ­¢å¯†ç å’Œrootç™»å½•å¹¶å°†sshé”å®šåˆ°ç‰¹å®šIP
vim /etc/ssh/sshd_config
PermitRootLogin no PasswordAuthentication no AllowUsers deploy@(your-ip) deploy@(another-ip-if-any) é‡æ–°å¯åŠ¨ssh
service ssh restart
è®¾ç½®é˜²ç«å¢™ ufw allow from {your-ip} to any port 22 ufw allow 80 ufw allow 443 ufw enable å¯åŠ¨å®‰å…¨æ›´æ–° apt-get install unattended-upgrades vim /etc/apt/apt.</description>
      
    </item>
    
    <item>
      <title>Linux å®‰è£…docker</title>
      <link>https://blog.mfcp.fun/posts/2021-04-08-linux-%E5%AE%89%E8%A3%85docker/</link>
      <pubDate>Thu, 08 Apr 2021 18:20:24 +0000</pubDate>
      
      <guid>https://blog.mfcp.fun/posts/2021-04-08-linux-%E5%AE%89%E8%A3%85docker/</guid>
      
      <description>Linux å®‰è£…docker docker: å±äº Linux å®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ ğŸ‘‰ å®˜æ–¹æ–‡æ¡£
docker-compose: ä¸€ä¸ªé›†ç¾¤ç®¡ç†æ–¹å¼ï¼Œå¯ä»¥åˆ©ç”¨åä¸ºdocker-compose.ymlçš„yamlæ–‡ä»¶æ¥å®šä¹‰éœ€è¦å¯åŠ¨çš„å®¹å™¨
Kubernetesï¼ˆK8Sï¼‰: éå¸¸å¼ºå¤§çš„å®¹å™¨ç¼–æ’å·¥å…·ï¼Œå¯ä»¥ç®¡ç†å¤§å‹é›†ç¾¤ã€å¾®æœåŠ¡ã€åˆ†å¸ƒå¼åº”ç”¨ç­‰ç­‰
Centos7 å®‰è£… ä½¿ç”¨Dockerçš„å­˜å‚¨åº“å®‰è£…
å‚è€ƒ ï¼š**å®‰è£…Docker Engine || **åœ¨centosä¸Šå®‰è£… || Dockerå…¥é—¨æ•™ç¨‹
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io
sudo systemctl start docker
éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ
sudo docker run hello-world
é…ç½®å¼€æœºè‡ªå¯åŠ¨ ï¼ˆç¦æ­¢å¯åŠ¨åˆ™ä½¿ç”¨disableå…³é”®å­—æ›¿æ¢enableæ‰§è¡Œå‘½ä»¤ï¼‰
sudo systemctl enable docker.service sudo systemctl enable containerd.service å®‰è£…docker-compose linuxä¸‹å‚è€ƒå®˜æ–¹æ–‡æ¡£ ä¹Ÿå¯ä»¥ä½¿ç”¨pipè¿›è¡Œå®‰è£… pip install docker-compose å¸è½½docker å¸è½½Docker Engineï¼ŒCLIå’ŒContainerdè½¯ä»¶åŒ…
sudo yum remove docker-ce docker-ce-cli [containerd.</description>
      
    </item>
    
  </channel>
</rss>
